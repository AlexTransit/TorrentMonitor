<!DOCTYPE html>
<html lang="ru">

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<title>Справка | TM</title>

		<!--CSS-->
		<link rel="stylesheet" href="css/main.css?v=3136">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
		 crossorigin="anonymous">

		<!--Fonts-->
		<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,800&amp;subset=cyrillic-ext" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700&amp;subset=cyrillic" rel="stylesheet">
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

	</head>




	<body id="index">

		<!-- Mobile Nav Bar -->
		<nav class="navbar d-flex navbar-collapse-sm navbar-dark bgNavBar d-none d-sm-block d-md-none" id="navbarTopNav">
			<a class="navbar-brand navBarLogo" href="#">TorrentMonitor
				<span class="badge badge-pill badge-dark badgeV">v. 1.2.3</span>
			</a>
			<button class="navbar-toggler float-right" type="button" data-toggle="collapse" data-target="#navbarTop" aria-controls="navbarTop"
			 aria-expanded="false" aria-label="Навигация">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarTop">
				<div class="navbar-nav">
					<a class="nav-item nav-link" href="#">Учетные данные</a>
					<a class="nav-item nav-link active" href="#">Настройки</a>
					<hr>
					<a class="nav-item nav-link" href="#">Ошибки &nbsp;
						<span class="badge badge-light">4</span>
					</a>
					<a class="nav-item nav-link" href="#">Тестовый запуск</a>
					<a class="nav-item nav-link" href="#">Запуск</a>
					<hr>
					<a class="nav-item nav-link" href="#">Новости &nbsp;
						<span class="badge badge-light">2</span>
					</a>
					<a class="nav-item nav-link" href="#">Справка</a>
					<a class="nav-item nav-link" href="#">Форум</a>
					<hr>
					<a class="nav-item nav-link" data-toggle="modal" data-target="#addItem" href="#addItem">Добавить</a>
					<hr> Обновление: Сегодня в 20:30

				</div>
			</div>
		</nav>
		<!-- /Mobile Nav Bar -->

		<!--Modal Windows-->

		<!-- Modal Add Item -->
		<div class="modal fade" id="addItem" tabindex="-1" role="dialog" aria-labelledby="addItem" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<ul class="nav nav-tabs" id="myTab" role="tablist" style="width: 100%; list-style: none;">
							<li class="nav-item">
								<a class="nav-link active" id="theme-tab" data-toggle="tab" href="#theme" role="tab" aria-controls="theme" aria-selected="true">Тему</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" id="series-tab" data-toggle="tab" href="#series" role="tab" aria-controls="series" aria-selected="false">Сериал</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" id="user-tab" data-toggle="tab" href="#user" role="tab" aria-controls="user" aria-selected="false">Пользователя</a>
							</li>
						</ul>
						<button type="button" class="close d-none d-sm-block" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>


					</div>
					<div class="modal-body">

						<div class="tab-content" id="addItemTabs">
							<div class="tab-pane fade show active" id="theme" role="tabpanel" aria-labelledby="theme-tab">

								<label for="title">Название:</label>
								<input type="text" class="form-control" id="title" aria-describedby="titleHelp" placeholder="Необязательно">
								<small id="titleHelp" class="form-text text-muted"></small>

								<label for="title">Ссылка:</label>
								<input type="text" class="form-control" id="link" aria-describedby="linkHelp" placeholder="">
								<small id="linkHelp" class="form-text text-muted">Пример: http://rutracker.org/forum/viewtopic.php?t=4201572</small>

								<hr>

								<label for="dir">Директория скачивания:</label>
								<input type="text" class="form-control" id="dir" aria-describedby="dirHelp" placeholder="Необязательно">
								<small id="dirHelp" class="form-text text-muted">Например: /var/lib/transmission/downloads</small>

								<div class="btn-group-toggle groupOne" data-toggle="buttons">
									<label class="btn btn-secondary update">
										<input type="checkbox" autocomplete="off"> Обновлять заголовок автоматически
									</label>
								</div>

								<div class="modal-footer">
									<button type="button" class="btn btn-secondary" data-dismiss="modal">Закрыть</button>
									<button type="button" class="btn btn-primary">Добавить</button>
								</div>

							</div>

							<div class="tab-pane fade" id="series" role="tabpanel" aria-labelledby="series-tab">
								<!--<label class="my-1 mr-2" for="tracker">Трекер:</label>-->
								<select class="custom-select my-1 mr-sm-2 tracker" id="tracker">
									<option selected>Выберите трекер</option>
									<option value="1">One</option>
									<option value="2">Two</option>
									<option value="3">Three</option>
								</select>

								<label for="title">Название:</label>
								<input type="text" class="form-control" id="title" aria-describedby="titleHelp" placeholder="">
								<small id="titleHelp" class="form-text text-muted">Обязательно на английском языке. Например: Ray Donovan</small>

								<hr>

								<label for="dir">Директория скачивания:</label>
								<input type="text" class="form-control" id="dir" aria-describedby="dirHelp" placeholder="Необязательно">
								<small id="dirHelp" class="form-text text-muted">Например: /var/lib/transmission/downloads</small>

								<div class="modal-footer">
									<button type="button" class="btn btn-secondary" data-dismiss="modal">Закрыть</button>
									<button type="button" class="btn btn-primary">Добавить</button>
								</div>
							</div>

							<div class="tab-pane fade" id="user" role="tabpanel" aria-labelledby="user-tab">
								<!--<label class="my-1 mr-2" for="tracker">Трекер:</label>-->
								<select class="custom-select my-1 mr-sm-2 tracker" id="tracker">
									<option selected>Выберите трекер</option>
									<option value="1">One</option>
									<option value="2">Two</option>
									<option value="3">Three</option>
								</select>

								<label for="title">Имя:</label>
								<input type="text" class="form-control" id="title" aria-describedby="titleHelp" placeholder="">
								<small id="titleHelp" class="form-text text-muted">Пример: KorP</small>

								<div class="modal-footer">
									<button type="button" class="btn btn-secondary" data-dismiss="modal">Закрыть</button>
									<button type="button" class="btn btn-primary">Добавить</button>
								</div>

							</div>

						</div>
					</div>

				</div>
			</div>
		</div>
		<!-- /Modal Add Item -->


		<!-- Modal Edit Item -->
		<div class="modal fade" id="editItem" tabindex="-1" role="dialog" aria-labelledby="editItem" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5>Редактирование</h5>
						<button type="button" class="close d-none d-sm-block" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>

					<div class="modal-body">
						<label for="title">Название:</label>
						<input type="text" class="form-control" id="title" aria-describedby="titleHelp" placeholder="Необязательно">
						<small id="titleHelp" class="form-text text-muted"></small>

						<!--<label class="my-1 mr-2" for="tracker">Качество:</label>-->
						<select class="custom-select my-1 mr-sm-2 tracker" id="tracker">
							<option selected>Выберите качество</option>
							<option value="1">One</option>
							<option value="2">Two</option>
							<option value="3">Three</option>
						</select>


						<label for="dir">Директория скачивания:</label>
						<input type="text" class="form-control" id="dir" aria-describedby="dirHelp" placeholder="Необязательно">
						<small id="dirHelp" class="form-text text-muted">Например: /var/lib/transmission/downloads</small>

						<label for="dir">Выполнить скрипт:</label>
						<input type="text" class="form-control" id="dir" aria-describedby="dirHelp" placeholder="Необязательно">
						<small id="dirHelp" class="form-text text-muted">Например: /home/user/check.sh</small>

						<hr>

						<div class="btn-group-toggle groupOne" data-toggle="buttons">
							<label class="btn btn-secondary update">
								<input type="checkbox" autocomplete="off"> Поставить раздачу на паузу
							</label>
						</div>

						<div class="btn-group-toggle groupOne" data-toggle="buttons">
							<label class="btn btn-secondary update">
								<input type="checkbox" autocomplete="off"> Сбросить время последнего обновления
							</label>
						</div>

						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" data-dismiss="modal">Закрыть</button>
							<button type="button" class="btn btn-primary">Сохранить</button>
						</div>
					</div>

				</div>
			</div>
		</div>
		<!-- /Modal Edit Item -->


		<div class="container-fluid">
			<div class="row">

				<!--Left Side-->
				<div id="lside" class="col d-none d-md-block">

					<div class="logo row align-items-center justify-content-center">
						<header>
							<div class="col">
								<nobr>TorrentMonitor
									<span class="badge badge-pill badge-dark badgeV">v. 1.2.3</span>
								</nobr>
							</div>
						</header>
					</div>

					<div class="row no-gutters align-items-center justify-content-center navItems">

						<nav>

							<div class="col addButton d-flex">
								<a role="button" data-toggle="modal" data-target="#addItem" href="#addItem" class="linkBut">
									<i class="material-icons">add_box</i> Добавить</a>
							</div>

							<ul>
								<li class="d-inline-flex align-items-center">
									<i class="material-icons navIcon">account_circle</i>
									<a href="#"> Учетные данные</a>
								</li>
								<li class="d-inline-flex align-items-center">
									<i class="material-icons navIcon">settings</i>
									<a href="#">Настройки</a>
								</li>
							</ul>

							<hr>

							<ul>
								<li class="d-inline-flex align-items-center">
									<i class="material-icons navIcon">error</i>
									<a href="#"> Ошибки</a> &nbsp;&nbsp;&nbsp;
									<span class="badge badge-light">4</span>
								</li>
								<li class="d-inline-flex align-items-center">
									<i class="material-icons navIcon">play_arrow</i>
									<a href="#">Тестирование</a>
								</li>
								<li class="d-inline-flex align-items-center">
									<i class="material-icons navIcon">sync</i>
									<a href="#"> Запуск</a>
								</li>
							</ul>

							<hr>

							<ul>
								<li class="d-inline-flex align-items-center active">
									<i class="material-icons navIcon ">fiber_new</i>Новости &nbsp;&nbsp;&nbsp;
									<span class="badge badge-light">4</span>
								</li>
								<li class="d-inline-flex align-items-center">
									<i class="material-icons navIcon">help</i>
									<a href="#"> Справка</a>
								</li>
								<li class="d-flex align-items-center">
									<i class="material-icons navIcon">message</i>
									<a href="#"> Форум</a>
								</li>
							</ul>

							<hr>

							<ul class="footer">
								<li>Синхронизация: Сегодня в 20:30</li>
							</ul>

						</nav>


					</div>
				</div>

				<div class="d-none d-md-block fixFix">&nbsp;</div>

				<!--Right Side-->
				<div id="rside" class="col">

					<div class="d-flex row align-items-center justify-content-left topBar">

						<div class="col-auto d-flex align-items-center justify-content-left border-right Link">
							<a href="/">← Монитор</a>
						</div>

						<div class="col-auto d-flex align-items-center justify-content-left Link">Справка ↓</div>


					</div>


					<div class="row no-gutters align-items-start" id="helpPage">


						<div class="col-lg-8 mb-4 mr-lg-4">

							<div id="accordion">
								<div class="card">
									<div class="card-header" id="headingOne">
										<h5 class="mb-0">
											<button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
												Общая информация
											</button>
										</h5>
									</div>

									<div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
										<div class="card-body">
											<p>TorrentMonitor работает с двумя типами torrent-трекеров и работа с ними несколько отличается друг от друга.</p>
											<p>Работа с трекерами: baibako.tv, hamsterstudio.org, lostfilm.tv, lostfilm-mirror, newstudio.tv, novafilm.tv</p>
											<p>Работа с ними происходит через RSS-ленту. Т.е. TM просматривает ленту и ищет совпадения. ТМ не умеет выкачивать
												старые серии, да и это было бы очень неудобно. Соответственно новую серию ТМ скачает только когда она появится
												в ленте.</p>
											<p>Ещё одно важное замечание - ТМ выкачивает только по сериям. Те когда на lostfilm.tv в конце сезона его выкладывают
												целик - ТМ его не подхватит. Он не может проанализировать раздачу на предмет сезона/серии, что бы сравнить с
												предыдущим значением.</p>
											<p>
												<mark>Для трекера baibako.tv необходимо указывать помимо логина и пароля ещё и passkey</mark>, тк не удаётся научить
												систему получать его в автоматическом режиме. Так же проблема в том, что для каждого пользователя их два, один
												находится в профиле пользователя, а второй, нужный нам, генерируется при генерации пользовательской RSS ленты.
												Те что бы получить нужный passkey необходимо перейти по ссылке, внизу нажать "Сгенерировать" и из полученной
												ссылки скопировать passkey.</p>
											<p>Для трекера lostfilm.tv после переезда на новый движок, необходимо указывать вместо логина - почту.</p>
										</div>
									</div>
								</div>
								<div class="card mt-2">
									<div class="card-header" id="headingTwo">
										<h5 class="mb-0">
											<button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
												Работа с трекерами форумного типа
											</button>
										</h5>
									</div>
									<div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
										<div class="card-body">
											Здесь ситуация другая. Вы ставите на закачку одну единственную (в большинстве своём - обновляемую) тему. Соответственно ТМ
											скачивает torrent-файл сразу, как будет запущен и в дальнейшем будет проверять время регистрации torrent-файла
											в этой теме, и как только дата обновления меняется - ТМ перекачивает torrent-файл. В данном случае TM не знает
											что именно внутри раздачи (по этому для таких раздач нет отображения сезона/серии) и ориентируется лишь на дату
											закачки файла на трекер.
										</div>
									</div>
								</div>
								<div class="card mt-2">
									<div class="card-header" id="headingThree">
										<h5 class="mb-0">
											<button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
												Работа с torrent-клиентами
											</button>
										</h5>
									</div>
									<div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
										<div class="card-body">
											<b>Работа с торрент-клиентами возможна одним из трех способов:
												<br>
												<br>
											</b>
											<ol>

												<li>Работа в режиме сохранения торрент-файла - базовый режим работы. При обнаружении обновления релиза торрент-файл
													скачивается и сохраняется по пути ./torrentmonitor/torrents/[tracker]_id.torrent , где tracker - трекер и id
													- id торрент-файла на трекере. На большинстве трекеров id торрент-файла совпадает с id темы, но не всегда. Например
													на nnm-club они разные. Дальнейшее добавление торрент-файла в торрент клиент необходимо осуществлять средствами
													торрент-клиента (настроить в нем слежение за папкой ./torrentmonitor/torrents/ и т.п.) или вручную. Т.е. ТМ
													в этом режиме ответственен только до этапа сохранения торрент-файла. Добавления/удаления раздач в клиент он
													<mark>НЕ ПРОИЗВОДИТ</mark>.
													<br>
													<br>
												</li>
												<li>Работа TM с Deluge. Это более продвинутый режим, чем предыдущий. В этом режиме ТМ уже производит не только скачивание
													торрент-файла, но и добавление новой раздачи в Deluge, а также может удалять старую раздачу из торрент-клиента
													(если эта опция включена на вкладке "Настройки" ТМ) и файлы, добавить в клиент скачивание новой раздачи по пути,
													отличному от стандартного (указанного на вкладке "Настройки") и т.д. Для включения данного режима необходимо
													на вкладке "Настройки" отметить пункт "Управлять торрент клиентом", выбрать клиент "Deluge" и заполнить поля
													ip адрес, порт, логин и пароль для удаленного доступа ТМ к RPC Deluge. Для работы в этом режиме в системе необходимо
													наличие пакета deluge-console.
													<br>
													<br>
												</li>
												<li>Работа ТМ с Transmission. Режим, аналогичный тому, что используется при работе с Deluge. Поддерживаются те же
													возможности - добавление новой раздачи в Deluge, а также может удалять старую раздачу из торрент-клиента (если
													эта опция включена на вкладке "Настройки" ТМ) и файлы, добавить в клиент скачивание новой раздачи по пути, отличному
													от стандартного (указанного на вкладке "Настройки") и т.д. Единственное отличие - использование протокола XML-RPC
													для общения TM и Transmission, т.е. нет необходимости в установке управляющего софта на сервер с TM. Для включения
													данного режима необходимо на вкладке "Настройки" отметить пункт "Управлять торрент клиентом", выбрать клиент
													"Transmission", заполнить поля ip адрес, порт, логин и пароль для удаленного доступа ТМ к RPC transmission.
													<br>
													<br>
												</li>
											</ol>
											<p>Работа с другими torrent-клиентами, на данный момент не поддерживается. Для совместимости с ними можно пользоваться
												первым вариантом с сохранением в директорию, либо при помощи встроенный RSS ленты.</p>

										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="col-lg-3 sticky-top info">В случае затруднений вы можете обратиться на
							<a href="#">форум</a> или в
							<a href="#">telegram-чат</a>.</div>


					</div>
				</div>

			</div>

		</div>
	</body>


	<!-- JS -->

	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
	 crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
	 crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
	 crossorigin="anonymous"></script>

	<script>
		$(function () {
			$('[data-toggle="tooltip"]').tooltip()
		})
	</script>


	<script>
		function myFunction() {
			// Declare variables
			var input, filter, ul, ul, a, i;
			input = document.getElementById('myInputs');
			filter = input.value.toUpperCase();
			ul = document.getElementById("listsearch");
			li = ul.getElementsByClassName('sort');

			for (i = 0; i < li.length; i++) {
				a = li[i].getElementsByTagName("a")[0];
				if (a.innerHTML.toUpperCase().indexOf(filter) > -1) {
					li[i].style.display = "";
				} else {
					li[i].style.display = "none";
				}
			}
		}
	</script>

</html>